<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CalambaGO! - A CalaMap of INNOViGATION</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Dancing+Script&family=Great+Vibes&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

    <link rel="stylesheet" href="style.css">
    <style>
    /* Responsive Navbar Styles */
    @media (max-width: 900px) {
        .menu {
            display: none;
        }
        .menu.active {
            display: flex !important;
            flex-direction: column;
            background: #202A44;
            position: absolute;
            top: 60px;
            left: 0;
            width: 100vw;
            z-index: 3000;
        }
        .navbar-links a {
            width: 100%;
            text-align: left;
            padding-left: 20px;
        }
        .menu-icon {
            display: flex;
            align-items: center;
            font-size: 2.2rem;
            color: #f1c40f;
            cursor: pointer;
            margin-right: 20px;
            z-index: 4000;
        }
    }
    @media (min-width: 901px) {
        .menu {
            display: flex !important;
        }
        .menu-icon {
            display: none;
        }
    }
    </style>
</head>
<body onload="document.dispatchEvent(new Event('DOMContentLoaded'));">
<script>
if (!localStorage.getItem('user')) {
    window.location.href = 'index.html';
}
</script>
    
     <!-- Navigation Bar -->
     <div class="navbar" id="main-navbar">
        <div class="icon">
            <h2 class="logo">Calamba<span style="color: #91b5dd; font-weight: bolder; font-family: 'Dancing Script', cursive; font-size: 40px;">GO!</span></h2>
        </div>
        <!-- Hamburger icon will be inserted by JS -->
        <div class="menu" id="main-menu">
            <div class="navbar-links">
                <b><a href="#home" data-lang-en="Home" data-lang-tl="Bahay">Home</a></b>
                <b><a href="#famous-places" data-lang-en="Famous Places" data-lang-tl="Sikat na Lugar">Famous Places</a></b>
                <b><a href="#about" data-lang-en="About" data-lang-tl="Tungkol">About</a></b>
                <b><a href="#contact" data-lang-en="Contact" data-lang-tl="Makipag-ugnayan">Contact</a></b>
            </div>
        </div>
        <!-- Profile always visible -->
        <div class="profile-dropdown">
            <div onclick="toggle()" class="profile-dropdown-btn">
              <div class="profile-img">
                <i class="fa-solid fa-circle"></i>
              </div>
              <span>
                <script>
                  // Show user type in navbar
                  const user = JSON.parse(localStorage.getItem('user') || '{}');
                  document.write(user.username ? user.username + ' (' + (user.type || '') + ')' : 'ITMAWD22');
                </script>
                <i class="fa-solid fa-angle-down"></i>
              </span>
            </div>
            <ul class="profile-dropdown-list">
              <li class="profile-dropdown-list-item">
                <a href="profile.html">
                  <i class="fa-regular fa-user"></i>
                  Edit Profile
                </a>
              </li>
              <li class="profile-dropdown-list-item">
                <a href="inbox.html">
                  <i class="fa-regular fa-envelope"></i>
                  Inbox
                </a>
              </li>
              <li class="profile-dropdown-list-item">
                <a href="featserv.html">
                  <i class="fa-regular fa-circle-question"></i>
                  Features & Services
                </a>
              </li>
              <hr />
              <li class="profile-dropdown-list-item">
                <a href="index.html">
                  <i class="fa-solid fa-arrow-right-from-bracket"></i>
                  Log out
                </a>
              </li>
            </ul>
        </div>
     </div>

     
     <div class="navbar-spacer"></div>
     <div class="navbar-spacer"></div>


    <!-- Google Maps Embed -->
        <div class="map-container" id="home">
            <iframe src="PRACTICE.html"></iframe>
        </div>

    <div class="calendar" style="margin-bottom: 24px;">
        <iframe src="manzanero.html"></iframe>
    </div>

    <!-- Famous Places Section -->
    <section class="famous-places" id="famous-places">
        <!-- Will be filled by JS from backend -->
    </section>

   
    <!-- Optional: About Section -->
     <div class="section">
    <section class="famous-places" id="about">
        <div class="style"><h2 data-lang-en="About CalambaGO!" data-lang-tl="Tungkol sa CalambaGO!">About CalambaGO!</h2></div>
        <p data-lang-en="CalambaGO! is your GO-to guide for discovering the best that Calamba has to offer. From historical landmarks to vibrant local businesses, our platform provides comprehensive information to help you navigate and enjoy the city to the fullest." data-lang-tl="Ang CalambaGO! ang iyong gabay para tuklasin ang pinakamaganda na inaalok ng Calamba. Mula sa mga makasaysayang pook hanggang sa masiglang lokal na negosyo, nagbibigay ang aming plataporma ng komprehensibong impormasyon upang matulungan kang mag-navigate at tamasahin ang lungsod nang lubos.">CalambaGO! is your GO-to guide for discovering the best that Calamba has to offer. From historical landmarks to vibrant local businesses, our platform provides comprehensive information to help you navigate and enjoy the city to the fullest.</p>
    </section>

    <!-- Optional: Contact Section -->
    <section class="famous-places" id="contact">
        <div class="style"><h2 data-lang-en="Contact Us" data-lang-tl="Makipag-ugnayan sa Amin">Contact Us</h2></div>
        <p data-lang-en="Have questions or need more information? Reach out to us at infocalambaGO@gmail.com" data-lang-tl="May mga tanong o kailangan mo pa ng karagdagang impormasyon? Makipag-ugnayan sa amin sa infocalambaGO@gmail.com" Have questions or need more information? Reach out to us at infocalambaGO@gmail.com </p>
    </section>
    </div>

    <div class="icons-bar">
        <div class="icons">
            <a href="#"><ion-icon name="logo-facebook"></ion-icon></a>
            <a href="#"><ion-icon name="logo-instagram"></ion-icon></a>
            <a href="#"><ion-icon name="logo-twitter"></ion-icon></a>
            <a href="#"><ion-icon name="logo-google"></ion-icon></a>
            <a href="#"><ion-icon name="logo-skype"></ion-icon></a>
        </div>
    </div>

   <!-- Journal Button -->
   <div id="journal-container">
    <button id="journal-button">Open Journal</button>
    <div id="journal-entry">
        <input type="text" id="journal-title" placeholder="Title of your entry..." />
        <textarea id="journal-text" placeholder="Write about your journey..."></textarea>
        <button id="save-journal">Save</button>
        <button id="close-journal">Close</button>
        <div class="saved-entries" id="saved-entries">
            <!-- Saved entries will be displayed here -->
        </div>
    </div>
</div>

        
            <!-- Leaflet JS -->
            <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<script src="index.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const navbar = document.querySelector('.navbar');
    const menu = document.getElementById('main-menu');
    // Insert hamburger icon before menu if not present
    if (!document.querySelector('.menu-icon')) {
        const menuIcon = document.createElement('div');
        menuIcon.className = 'menu-icon';
        menuIcon.innerHTML = '<ion-icon name="menu-outline"></ion-icon>';
        navbar.insertBefore(menuIcon, menu);

        menuIcon.addEventListener('click', function(e) {
            e.stopPropagation();
            menu.classList.toggle('active');
        });

        document.addEventListener('click', function(event) {
            if (!event.target.closest('.menu') && !event.target.closest('.menu-icon')) {
                if (menu.classList.contains('active')) {
                    menu.classList.remove('active');
                }
            }
        });

        window.addEventListener('resize', function() {
            if (window.innerWidth > 900 && menu.classList.contains('active')) {
                menu.classList.remove('active');
            }
        });
    }
});
</script>
</body>
</html>